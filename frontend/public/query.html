<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Perform Query</title>

	<link rel="stylesheet" href="style.css">
</head>
<body onload="initialize()">
	<script type="text/javascript" src="scripts/query.js"></script>

	<h1>Perform Query: Dataset Name</h1>
	<h2 id="queryType">courses</h2>
	<label for="groupApply" class="head">Group and Apply?</label>
	<input type="checkbox" id="groupApply" onchange="showHideGroup()">
	<hr>
	<form class="query" id="regQuery" method="post" onsubmit="return false;">
		<label for="where" class="head">WHERE: </label>
		<br>
		<textarea name="where" rows="5" cols="25" id="where"></textarea>
		<br><br>
		<div id="group">
			<label for="groupKeys" class="head">Group Keys: </label>
			<ul id="groupKeys" class="nobullet"></ul>
			<label class="head">Apply Keys:</label>
			<br>
			<form method="post" onsubmit="return false;">
				<label for="applyKeys">Type:</label>
				<select name="applyKeys" id="applyKeys">
					<option value="">--Please choose a type--</option>
					<option value="AVG">AVG</option>
					<option value="MAX">MAX</option>
					<option value="MIN">MIN</option>
					<option value="SUM">SUM</option>
					<option value="COUNT">COUNT</option>
				</select>
				<br>
				<label for="applyName">Name:</label>
				<input type="text" id="applyName"><br>
				<label for="applyCol">Column:</label>
				<select name="applyCol" id="applyCol">
					<option value="">--Please choose a column--</option>
				</select>
				<br>
				<input type="submit" value="Add Apply Key" onclick="addApplyKey()">
			</form>
			<br><br>
			<div class="bordered">
				<table id="applyTable">
					<thead>
					<tr>
						<th colspan="4" class="top">Added Apply Keys</th>
					</tr>
					<tr>
						<th>Type</th>
						<th>Name</th>
						<th>Column</th>
						<th></th>
					</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
				<br>
			</div>
		</div>
		<label for="columns" class="head">Columns:</label>
		<ul id="columns" class="nobullet"></ul>
		<label class="head">Order Direction:</label><br>
		<input type="radio" id="up" name="orderDir" value="up" checked>
		<label for="up" class="head">UP</label>
		<input type="radio" id="down" name="orderDir" value="down">
		<label for="down">DOWN</label>
		<br><br>
		<div class="bordered">
			<label for="orderColumns" class="head">Order Columns:</label>
			<table id="orderColumns">
				<thead>
				<tr>
					<th>Selected Order Columns</th>
					<th>Available Columns</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>
						<ul class="nobullet" id="selectedOrder">
						</ul>
					</td>
					<td>
						<ul class="nobullet" id="availableOrder" ondrop="drop(event)" ondragover="allowDrop(event)">
						</ul>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
		<br>
		<input type="submit" value="Execute Query">
	</form>
</body>
</html>
